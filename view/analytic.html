<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analitik | Dashboard</title>
    <link rel="icon" href="../assets/wyloz-logo.PNG" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../css/index.css">
    <link rel="stylesheet" href="../css/analytic.css">
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h2 class="logo">Wyloz</h2>
        </div>
        <div class="sidebar-menu">
            <!-- <a href="../view/index.html" class="menu-item">
                <i class="fas fa-home"></i>
                <span>Home</span>
            </a> -->
            <a href="../view/analytic.html" class="menu-item active">
                <i class="fas fa-chart-bar"></i>
                <span>Dashboard Analitik</span>
            </a>
            <a href="../view/data.html" class="menu-item">
                <i class="fas fa-database"></i>
                <span>Data Transaksi</span>
            </a>
            <a href="../view/cms.html" class="menu-item">
                <i class="fas fa-tools"></i>
                <span>Masukkan Data</span>
            </a>
        </div>
    </div>

    <!-- Top Navbar -->
    <div class="top-navbar">
        <div class="burger-menu" id="burgerMenu">
            <i class="fas fa-bars"></i>
        </div>
        <div class="nav-right">
            <div class="notification-icon" id="notificationIcon">
                <i class="fas fa-bell"></i>
                <span class="notification-badge" id="notificationBadge">3</span>
                <div class="notification-dropdown" id="notificationDropdown">
                    <p class="notif-item" data-details="New user John Doe registered on 2023-07-15">New user registered</p>
                    <p class="notif-item" data-details="Version 2.5.0 is available for download">System update available</p>
                    <p class="notif-item" data-details="Messages from Support, Marketing, and Sales">3 unread messages</p>
                </div>
            </div>
            <div class="profile-icon">
                <img src="../assets/wyloz-logo.PNG" alt="Wyloz" class="profile-img">
            </div>
            <div class="profile-dropdown" id="profileDropdown">
                <a href="#" id="logoutBtn"><i class="fas fa-sign-out-alt"></i> Keluar</a>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div class="page active">
            <h2>Dashboard Analitik 2025</h2>
            <p>Analitik toko wyloz</p>
            
            <!-- First Row: Summary Cards -->
            <div class="card-container">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Produk Terjual</div>
                        <i class="fas fa-shopping-cart" style="color: #4CAF50;"></i>
                    </div>
                    <div class="card-value">0</div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Total Penjualan</div>
                        <i class="fas fa-money-bill-wave" style="color: #2196F3;"></i>
                    </div>
                    <div class="card-value">Rp 0</div>
                </div>
            </div>
            
            <!-- Second Row: Provinces Chart -->
            <div class="card-container">
                <div class="card full-width-card">
                    <div class="card-header">
                        <div class="card-title">Distribusi Penjualan per Provinsi</div>
                    </div>
                    <div class="chart-container">
                        <canvas id="provinceChart"></canvas>
                    </div>
                </div>
            </div>
            
            <!-- Third Row: Monthly Sales Chart -->
            <div class="card-container">
                <div class="card full-width-card">
                    <div class="card-header">
                        <div class="card-title">Penjualan per Bulan</div>
                    </div>
                    <div class="chart-container">
                        <canvas id="monthlySalesChart"></canvas>
                    </div>
                </div>
            </div>
            
            <!-- Fourth Row: Small Charts -->
            <div class="card-container">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Distribusi Kategori Produk</div>
                        <i class="fas fa-tags" style="color: #FF9800;"></i>
                    </div>
                    <div class="small-chart-container">
                        <canvas id="categoryChart"></canvas>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Metode Pengiriman</div>
                        <i class="fas fa-truck" style="color: #9C27B0;"></i>
                    </div>
                    <div class="small-chart-container">
                        <canvas id="shippingChart"></canvas>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Metode Pembayaran</div>
                        <i class="fas fa-credit-card" style="color: #607D8B;"></i>
                    </div>
                    <div class="small-chart-container">
                        <canvas id="paymentChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="notificationModal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3 id="modalTitle">Notification Detail</h3>
            <p id="modalContent">This is the notification content.</p>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>

    <script src="../js/script.js"></script>
    <script src="../js/simple-auth.js"></script>
    <script src="../js/analytic.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            checkAuth(); 
        });
    </script>

</body>
</html>